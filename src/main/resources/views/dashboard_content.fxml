<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.chart.*?>

<VBox xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.garantias.controller.DashboardContentController"
      spacing="25" styleClass="dashboard-content">
    
    <!-- Stats Cards -->
    <HBox spacing="20">
        <!-- GarantÃ­as Activas -->
        <VBox styleClass="stat-card stat-primary" HBox.hgrow="ALWAYS">
            <padding>
                <Insets top="20" right="25" bottom="20" left="25"/>
            </padding>
            <Label text="GarantÃ­as Activas" styleClass="stat-label"/>
            <Label fx:id="statGarantiasActivas" text="0" styleClass="stat-value"/>
            <Label text="Total en sistema" styleClass="stat-sublabel"/>
        </VBox>
        
        <!-- PrÃ³ximas a Vencer -->
        <VBox styleClass="stat-card stat-warning" HBox.hgrow="ALWAYS">
            <padding>
                <Insets top="20" right="25" bottom="20" left="25"/>
            </padding>
            <Label text="PrÃ³ximas a Vencer" styleClass="stat-label"/>
            <Label fx:id="statGarantiasVencer" text="0" styleClass="stat-value"/>
            <Label text="En los prÃ³ximos 30 dÃ­as" styleClass="stat-sublabel"/>
        </VBox>
        
        <!-- Total Facturas -->
        <VBox styleClass="stat-card stat-success" HBox.hgrow="ALWAYS">
            <padding>
                <Insets top="20" right="25" bottom="20" left="25"/>
            </padding>
            <Label text="Facturas Emitidas" styleClass="stat-label"/>
            <Label fx:id="statFacturasTotal" text="0" styleClass="stat-value"/>
            <Label text="Total registradas" styleClass="stat-sublabel"/>
        </VBox>
        
        <!-- Ingresos -->
        <VBox styleClass="stat-card stat-info" HBox.hgrow="ALWAYS">
            <padding>
                <Insets top="20" right="25" bottom="20" left="25"/>
            </padding>
            <Label text="Total Facturado" styleClass="stat-label"/>
            <Label fx:id="statIngresosMes" text="â‚¬0" styleClass="stat-value"/>
            <Label text="Ingresos totales" styleClass="stat-sublabel"/>
        </VBox>
    </HBox>
    
    <!-- GrÃ¡ficas y Alertas -->
    <HBox spacing="20" VBox.vgrow="ALWAYS">
        
        <!-- GrÃ¡ficas -->
        <VBox spacing="20" HBox.hgrow="ALWAYS">
            <!-- GrÃ¡fica de estados -->
            <VBox styleClass="chart-card" VBox.vgrow="ALWAYS">
                <padding>
                    <Insets top="15" right="20" bottom="15" left="20"/>
                </padding>
                <Label text="DistribuciÃ³n de GarantÃ­as" styleClass="card-title"/>
                <PieChart fx:id="estadoChart" VBox.vgrow="ALWAYS" legendSide="BOTTOM"/>
            </VBox>
        </VBox>
        
        <!-- Panel lateral -->
        <VBox spacing="20" prefWidth="350">
            
            <!-- Alertas -->
            <VBox styleClass="alerts-card" prefHeight="200">
                <padding>
                    <Insets top="15" right="20" bottom="15" left="20"/>
                </padding>
                <Label text="âš ï¸ Alertas de Vencimiento" styleClass="card-title"/>
                <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS" styleClass="alerts-scroll">
                    <VBox fx:id="alertsContainer" spacing="8"/>
                </ScrollPane>
            </VBox>
            
            <!-- Acciones rÃ¡pidas -->
            <VBox styleClass="quick-actions-card">
                <padding>
                    <Insets top="15" right="20" bottom="15" left="20"/>
                </padding>
                <Label text="ðŸš€ Acciones RÃ¡pidas" styleClass="card-title"/>
                <VBox spacing="10">
                    <padding>
                        <Insets top="10"/>
                    </padding>
                    <Button fx:id="btnNuevaGarantia" text="+ Nueva GarantÃ­a" styleClass="quick-action-btn primary" prefWidth="300" onAction="#onNuevaGarantia"/>
                    <Button fx:id="btnNuevaFactura" text="+ Nueva Factura" styleClass="quick-action-btn success" prefWidth="300" onAction="#onNuevaFactura"/>
                    <Button fx:id="btnVerReportes" text="ðŸ“Š Ver EstadÃ­sticas" styleClass="quick-action-btn info" prefWidth="300" onAction="#onVerReportes"/>
                </VBox>
            </VBox>
        </VBox>
    </HBox>
</VBox>

